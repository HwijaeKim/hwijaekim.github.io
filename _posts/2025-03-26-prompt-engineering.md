---
title:  "프롬프트 엔지니어링 Part.01 - 이론 정리"
header:
  teaser: "/assets/images/posts_img/prompt_engineering/teaser.webp"
categories:
  - Research
tags:
  - prompt-engineering
  - llm
  - ai
  - chatgpt
  - prompt
toc: true
toc_sticky: true
toc_label: "프롬프트 엔지니어링 Part.01"
---
<br>

# 개요
---
회사에 퍼블리셔로 입사 후 AI에이전트(ChatGPT, Claude 등)를 사용하는 빈도가 급격히 증가했다.   
물론 이전에도 자주 사용했지만 특히 더 사용하게 되는 것 같다는 생각이 들었다.   
이전부터 AI에게 질문을 날리는 것에 대해 크게 생각하지 않고 생각하는 대로 적어 질문을 날리곤 했고, 지금도 마찬가지다.   
<br>
그러다보니 원하는 답변을 빠른 시간 내 얻는데 문제가 생기는 경우가 종종 발생했고, 그럴 때마다 조건을 하나하나 추가하면서 추가질문을 던졌다.   
이것이 반복되다보니 총 답변 양도 길어지고 그래서 결론적으로 내가 어떤 질문을 했는지, 어디의 어느 코드가 내가 원하는 코드인지 헷갈리는 경우가 많아졌다.  
대형언어모델(LLM)에게 질문을 하는 이유가 빠른 시간 내 원하는 해결책, 답변을 얻는 것인데 그 장점이 약간 사라지는 것이다. (물론 인터넷 검색보다는 빠른 경우가 대부분이긴 하다.)   
아무튼 나는 LLM에 질문을 던질 때 더 확실하고 정확한 값을 적은 프롬프트로 얻기 위해 **프롬프트 엔지니어링**에 대해 공부해 보기로 했다.   
<br>
이 문서는 프롬프트 엔지니어링에 대한 기본적인 개념과 원리를 이해하고, 실제 프롬프트를 작성하는 방법을 정리한다.

## 참고문서
- [promptingguide.ai](https://www.promptingguide.ai/kr)

---
<br><br>




# 프롬프트의 기초

## 기초 프롬프트
평소의 나는 LLM을 다룰 때 간단한, 거의 1차원적인 프롬프트로 질문한다.   
그렇기 때문에 어느 때는 한 번에 만족스럽고 양질의 결과를 얻지만 또 어느 때는 아무리 연속질문을 해도 같은 말만 반복, 원하는 정보를 어지 못할 때도 많다.   
모델에 전달하는 프롬프트는 **지시**나 **질문**과 같은 정보와 **맥락**, **입력** 또는 **예시**와 같은 세부사항을 포함할 수 있다.   
이러한 구성요소를 사용하여 적절하게 지시하고 더 나은 결과를 얻을 수 있다.
<br><br>
간단한 예시로 시작해보자!   
<br>
*Prompt.*
```
하늘은
```
*Output.*
*<sub>(OpenAI ChatGPT-4.5 / 2025.03.26 17:44)</sub>*
```
하늘은 푸르고, 높고, 무한히 넓으며 때로는 맑고 화창하지만, 때로는 흐리고 어두우며 비를 품고 있기도 합니다.
하늘은 우리의 감정을 닮아 있습니다. 지금 당신이 올려다본 하늘은 어떤가요?
```

위와같이 LLM은 "하늘은"이라는 한 단어만 가지고 맥락을 파악하고 글을 이어나간다.   
이 결과물은 화자가 예상하지 못한 답변을 내거나 원하는 답과는 거리가 있을 수 있다.   
<br>
이를 통해 LLM에게 더 자세한 문맥과 구체적인 요구사항을 지시하는 것이 얼마나 중요한 것인지 알 수 있게 됐다.   
<br>
한 발자국 더 나아가 보자!   
<br>
*Prompt.*
```
문장을 완성해 줘:
하늘은
```
*Output.*
*<sub>(OpenAI ChatGPT-4.5 / 2025.03.26 17:44)</sub>*
```
하늘은 푸른 바다처럼 끝없이 펼쳐져 있었다.
```  
출력조건 한 줄을 추가한 것으로도 화자가 의도한 답변에 근접해진 것을 볼 수 있다.   
이와같이 LLM에게 작업을 수행하도록 지시하기 위해 최적의 프롬프트를 설계는 접근 방식을 **프롬프트 엔지니어링**이라고 한다.

## 프롬프트 형식
일반적으로 LLM에게 던지는 프롬프트는 다음과 같은 형식을 따른다.
```
<질문>? or <지시>
```

그리고 이번에 공부하며 새롭게 알게된 사실로 질의응답(QA) 형식으로도 작성이 가능하다는 것이다.
```
Q: <질문>?
A:
```
이런 방식의 프롬프트 수행을 **제로샷 프롬프팅(zero-shot prompting)**이라 한다고 한다.   
즉, 어떤 예시나 설명 없이 직접 LLM에게 응답을 요구하는 것...   
대부분의 LLM에는 제로샷 프롬프팅을 수행할 수 있는 기능이 있지만 해당 작업의 복잡성과 모델이 가진 지식에 따라 다른 결과를 만들어 내기도 한다.   
<br>
위를 응용한 인기 있고 효과적인 프롬프팅 기술 중 하나는 모범예시(시연 등)를 제공하는 **퓨샷 프롬프팅(few-shot prompting)**이다.
```
<질문>?
<답변>
<질문>?
<답변>
<질문>?
<답변>
<질문>?

//QA 형식을 따른다면
Q: <질문>?
A: <답변>
Q: <질문>?
A: <답변>
Q: <질문>?
A: <답변>
Q: <질문>?
A: //마지막 A는 LLM이 답변
```
물론 무조건 QA 형식을 따라야 하는 것은 아니다. 주어진 작업에 따른 적절한 형식을 사용하는 것이 좋다.   
예시로 간단한 분류를 통해 모범 예시를 제공할 수도 있다.   
<br>
*Prompt.*
```
맛있다 // 긍정
맛 없다 // 부정
이 피자 너무 훌륭해 // 긍정
이 고구마 진짜 끔찍하네! //
```

*Output.*
*<sub>(OpenAI ChatGPT-4.5 / 2025.03.26 22:42)</sub>*
```
부정
```  
**<sub>(참고로 예시의 답을 반대로 적으면 결과는 "긍정"으로 나온다)</sub>**
이와 같이 LLM에게 몇 번의 모범 예시를 보이면 퓨삿 프롬프팅은 문맥에 맞는 학습을 하는 것을 알 수 있다.

---
<br><br>





# 프롬프트의 구성 요소
여러 AI에이전트를 사용하다 보면 프롬프트에는 특정 구성 요소들이 있다는 것을 알 수 있다.   
<br>
프롬프트에는 대표적으로 다음 구성요소가 있는데:
- **지시(Instruction)**: 모델이 수행할 특정 작업 또는 지시
- **문맥**: 더 나은 응답을 위해 모델을 조종할 수 있는 외부 정보나 추가 문맥(예시 등)
- **입력 데이터**: 응답받고자 하는 입력이나 질문(코드 등)
- **출력 지시자**: 출력의 유형이나 형식

<br>
위 네 가지 요소가 프롬프트에 모두 필요한 것은 아니지만 분명 도움은 될 것이다.

---
<br><br>






# 프롬프트 설계에 관한 일반적인 팁
## 시작은 간단하게
프롬프트 설계를 시작할 때는 이 과정이 최적의 결과를 얻기 위해 많은 실험이 필요한 반복과정임을 명심해야 한다.   
OpenAI에서 제공하는 Playground로 간단하게 시작해보자!
- [OpenAI Playground 바로가기](https://platform.openai.com/playground)   

## 지시
'작성하기', '분류하기', '요약하기', '번역하기', '정렬하기' 등의 명령어를 사용하여 달성하고자 하는 결과를 지시해 효과적인 프롬프트를 설계할 수 있다.   
<br>
물론 무엇이 가장 효과적인지 확인하기 위해서는 여러 시도와 시행착오를 겪어야 한다는 것을 명힘하자...   
다양한 키워드, 문백과 데이터를 활용하여 다양한 명령을 내려보고, 특정 사용 사례와 작업에 적합한 방법을 찾는 것이 중요하다.   
어쩌면 당연한 말일 수도 잆지만 수행하고자 하는 작업과 관련된 문맥이 구체적이고 적합할수록 더 좋은 결과를 얻을 확률이 높아진다.   
<br><br>

프롬프트의 시작 부분에서 지시 사항을 명시하는 것이 좋다는 의견도 있다.   
'###'과 같이 명확한 구분기호를 사용하여 명령어와 지시사항을 구부하는 것을 예로 들 수 있다.   
<br>

*Prompt.*
```
### 지시 ###
다음 텍스트를 스페인어로 번역해줘
글자: "안녕하세요"
```

*Output.*
*<sub>(OpenAI ChatGPT-4.5)</sub>*
```
스페인어로 번역하면:

"Hola"
```  

## 특이성
이것 또한 당연한 말일 수 있지만 실행시킬 지시와 작업을 구체적으로 설명하는 것도 중요하다.   
프롬프트가 상세하고 구체적을수록 결과는 더 좋아지고 특정 출력이나 스타일을 얻고자 하는 경우에 특히 더 중요하다.   
**더 나은 결과를 내는 특정한 토큰이나 키워드는 존재하지 않으며** 좋은 형식과 상세한 프롬프트를 준비하는 것이 키포인트.   
<br>
프롬프트의 길이는 제한이 있기 때문에 프롬프트를 설계할 때 그 상항을 염두에 두고 있어야 한다.   
얼마나 구체적으로, 상세하게 작성해야 할지 생각할 필요가 있으며 불필요한 세부사항을 많이 포함하는 것이 꼭 좋은 접근법은 아니다.   
프롬프트 최적화를 위해 많은 실험과 반복을 거듭할 것을 권장한다.   
<br>

*Prompt.*
```
다음 텍스트에서 장소의 이름을 추출해 줘.
원하는 형식:
Place: <comma_separated_list_of_places>
입력: "이러한 발전은 연구자들에게 격려가 되지만, 많은 것들이 여전히 수수께끼입니다. 리스본에 있는 샴팔리마우드 센터(CCU: Champalimaud Centre for the Unknown)의 신경면역학자인 Henrique Veiga-Fernandes는 "뇌와 주변부에서 보이는 효과 사이에 블랙박스가 있는 경우가 종종 있습니다."라고 말합니다. 그리고 다음과 같이 덧붙입니다. "치료적 맥락에서 이를 사용하고자 할 경우, 그 메커니즘을 실제로 이해할 필요가 있습니다."
```

*Output.*
*<sub>(OpenAI ChatGPT-4.5)</sub>*
```
Place: 리스본, 샴팔리마우드 센터(CCU: Champalimaud Centre for the Unknown)
```  
<br>

## 부정확성 피하기
무조건 구체적으로 설명하는 것을 고려하다가 부정확한 설명을 작성하는 등의 실수를 저지르기 쉽다.   
프롬프트는 직접적이어야 더욱 좋은 결과물을 얻을 수 있으며 특히 직접적일수록 메시지가 더 효과적으로 전달된다.   
돌려말하거나 애매한 표현을 사용하는 등의 프롬프트는 피하는 것이 좋다.   
<br>

```
컴퓨터의 구조를 설명해줘. 설명은 간결하게 몇 문장으로만 하고 너무 자세하게는 하지 말아줘.
```
이 프롬프트를 예로 들어보면 몇 문장을 사용해야 하는지, 어떤 스타일(타겟)을 사용해야 하는지 명확하게 명시되어 있지 않다.   
물론 이 프롬프트로도 충분한 답변을 얻을 수 있겠지만, 매우 구체적이고 간결하며(??) 정곡을 찌르는(?!) 프롬프트일수록 좋다.
```
고등학생에게 컴퓨터의 구조를 2~3개의 문장으로 설명해줘.
```
<br>


## 해야 하는 것과 하지 말아야 할 것
프롬프트를 설계할 때 적용할 수 있는 또 다른 팁은 **'하지 말하야 할 것'** 보다는 **'해야 하는 것'**에 초점을 두는 것이다.   
보통 질문을 할 때 **"~는 하지 말고 답변해줘"**와 같은 표현을 사용할 때가 있는데 이런 표현과 함께 *해야 할 것**도 같이 명시를 해주는 것이 좋다.   
<br>
*Prompt.*
```
다음은 고객에게 영화를 추천하는 상담원입니다. 관심사를 묻지 마세요. 개인정보를 묻지 마세요.
고객: 제 관심사를 바탕으로 영화를 추천해 주세요.
상담원:
```
<br>

*Output.*   
*<sub>(OpenAI ChatGPT-4)</sub>*
```
네, 알겠습니다. 좋아하는 영화 장르나 선호하는 스타일에 대해 말씀해 주시겠어요? 그러면 좀 더 적합한 영화를 추천드릴 수 있을 것 같습니다.
```  

*<sub>(OpenAI ChatGPT-4o)</sub>*
```
고객님께 꼭 맞는 영화를 추천해 드릴게요. 아래 중에서 오늘 어떤 분위기의 영화를 원하시나요?

가볍게 웃을 수 있는 코미디

몰입감 있는 스릴러나 미스터리

감정에 젖게 하는 드라마

액션 가득한 블록버스터

상상력 넘치는 SF나 판타지

원하시는 분위기나 장르를 골라주시면, 바로 추천해드릴게요!
```  

*<sub>(OpenAI ChatGPT-4.5)</sub>*
```
죄송하지만 고객님의 관심사나 개인정보는 제가 확인할 수 없습니다. 대신 다양한 취향을 아우르는 인기 영화 몇 편을 추천드리겠습니다.

드라마: <쇼생크 탈출>(1994), <그린북>(2018)

액션: <매드맥스: 분노의 도로>(2015), <미션 임파서블: 폴아웃>(2018)

코미디: <극한직업>(2019), <인턴>(2015)

SF: <인터스텔라>(2014), <듄>(2021)

애니메이션: <소울>(2020), <코코>(2017)

이 중에서 끌리는 영화가 있으시면 더 구체적인 추천도 가능합니다!
```
<br>

여기서 다른 점은 LLM의 발전에 따라 답변의 정확성이 훨씬 올라갔다는 것이다.   
본인은 OpenAI의 ChatGPT를 사용해서 테스트를 진행했는데 2025년 3월 27일 기준 가장 최신버전인 GPT-4.5, GPT-4o 모델은 위의 프롬프트 만으로도 만족스러운 답변을 얻을 수 있었던 반면, 공개된지 시간이 지난 GPT-4 모델에서는 틀린 답변이 나온 것을 알 수 있다.   
<br>

다음은 개선된 프롬프트를 사용하여 GPT-4 모델에서도 적절한 답변을 얻을 수 있는 예시이다.   
<br>

*Prompt.*
```
다음은 고객에게 영화를 추천하는 상담원입니다. 상담원은 글로벌 인기 영화 중에서 영화를 추천해야 합니다.
사용자의 관심사를 묻지 않고, 개인 정보를 요구하지 않아야 합니다. 
상담원이 추천할 영화가 없는 경우 "죄송합니다. 오늘 추천할 영화를 찾을 수 없습니다." 라고 응답해야 합니다.

고객: 제 관심사를 바탕으로 영화를 추천해 주세요.

상담원:
```
<br>

*Output.*   
*<sub>(OpenAI ChatGPT-4)</sub>*
```
네, 알겠습니다. 죄송합니다만, 고객님의 관심사를 여쭤보지 않고 영화를 추천드리기는 어렵습니다.
대신 글로벌에서 인기 있는 영화 몇 가지를 추천해 드릴게요. 관심 있으시면 확인해보시겠어요?
영화 장르나 선호하는 스타일에 대해 말씀해 주시겠어요? 그러면 좀 더 적합한 영화를 추천드릴 수 있을 것 같습니다.
```  

---
<br><br><br>







# 프롬프트 예시

<br><br>

